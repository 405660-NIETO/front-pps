<div class="card h-100 shadow-sm">
  <div class="card-img-top-container" style="height: 200px; overflow: hidden;">
    <img 
      [src]="producto.fotoUrl || 'https://via.placeholder.com/300x200?text=Sin+Imagen'" 
      [alt]="producto.nombre"
      class="card-img-top w-100 h-100"
      style="object-fit: cover;">
  </div>
  
  <div class="card-body d-flex flex-column">
    <h6 class="card-title text-truncate">{{producto.nombre}}</h6>
    <p class="card-text text-muted small mb-1">{{producto.marca.nombre}}</p>
    
    <!-- Categorías -->
    <div class="mb-2">
      <span *ngFor="let categoria of producto.categorias.slice(0, 2)" 
            class="badge bg-secondary me-1 small">
        {{categoria.nombre}}
      </span>
      <span *ngIf="producto.categorias.length > 2" 
            class="badge bg-light text-dark small">
        +{{producto.categorias.length - 2}}
      </span>
    </div>
    
    <!-- Precio y Stock -->
    <div class="mt-auto">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <span class="h5 mb-0 text-primary">${{producto.precio | number:'1.0-0'}}</span>
        <small class="text-muted">Stock: {{producto.stock}}</small>
      </div>
      
      <!-- Botón agregar al carrito -->
      <button 
        class="btn btn-primary btn-sm w-100"
        [disabled]="producto.stock === 0"
        (click)="agregarAlCarrito()">
        <i class="bi bi-cart-plus"></i>
        {{producto.stock === 0 ? 'Sin Stock' : 'Agregar al Carrito'}}
      </button>
    </div>
  </div>
</div>